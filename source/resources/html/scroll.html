<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scroll Pin with Animations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: sans-serif;
      line-height: 1.6;
      color: #333;
    }

    .spacer {
      height: 100vh;
      background: #eee;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(1.5rem, 2vw, 2rem);
    }

    .middle-section {
      height: 200vh;
      background: #aef;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .middle-content {
      font-size: clamp(2rem, 5vw, 4rem);
      opacity: 0;
      transform: translateY(50px);
    }

    .bottom-section {
      background: #fca;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .bottom-content {
      font-size: clamp(2rem, 5vw, 4rem);
      opacity: 0;
      transform: translateY(30px);
    }
  </style>
</head>
<body>

  <div class="spacer">상단 영역</div>

  <div class="middle-section">
    <div class="middle-content">중간 콘텐츠 애니메이션</div>
  </div>

  <div class="bottom-section">
    <div class="bottom-content">하단 콘텐츠 애니메이션</div>
  </div>

  <div class="spacer">하단 추가 영역</div>

  <!-- GSAP & ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    // ✅ 하단 콘텐츠 고정
    ScrollTrigger.create({
      trigger: ".middle-section",
      start: "top top",
      end: "bottom top",
      pin: ".bottom-section",
      pinSpacing: false,
      scrub: true,
    });

    // ✅ 중간 콘텐츠 애니메이션 (스크롤 시작 시)
    gsap.to(".middle-content", {
      scrollTrigger: {
        trigger: ".middle-section",
        start: "top 80%",
        toggleActions: "play none none none"
      },
      opacity: 1,
      y: 0,
      duration: 1.2,
      ease: "power2.out"
    });

    // ✅ 하단 콘텐츠 애니메이션 (고정된 상태에서 나중에 등장)
    gsap.to(".bottom-content", {
      scrollTrigger: {
        trigger: ".middle-section",
        start: "bottom bottom",
        toggleActions: "play none none none"
      },
      opacity: 1,
      y: 0,
      duration: 1.2,
      ease: "power2.out"
    });
  </script>

</body>
</html>
