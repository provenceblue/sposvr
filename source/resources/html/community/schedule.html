<!DOCTYPE html>
<html lang="ko">

<head>
    @@include('@@webRoot/resources/html/_include/head.html',{
    "title": "일정 | 소통"
    })
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var today = new Date();
            var calendar = new FullCalendar.Calendar(calendarEl, {
                headerToolbar: {
                    left: 'prev',
                    center: 'title',
                    right: 'next'
                },
                initialDate: today, //'2025-06-12',
                //navLinks: true, // can click day/week names to navigate views
                //editable: true,
                dayMaxEvents: true, // allow "more" link when too many events
                locale: 'ko',
                longPressDelay: 1,
                height: 780,
                
                eventClick: function (info) { // 이벤트 셀을 클릭할 때 모달 열기
                    $('.fc-event').removeAttr('data-return-name');
                    $(info.el).attr('data-return-name', 'eventClick')
                    gfn_layered.open('calendarDetail', 'body', 'eventClick');

                },
                events: [{
                        title: 'All Day Event',
                        start: '2025-06-01'
                    },
                    {
                        title: 'Long Event',
                        start: '2025-06-07',
                        end: '2025-06-10'
                    },
                    {
                        groupId: 999,
                        title: 'Repeating Event',
                        start: '2025-06-09T16:00:00'
                    },
                    {
                        groupId: 999,
                        title: 'Repeating Event',
                        start: '2025-06-16T16:00:00'
                    },
                    {
                        title: 'Conference',
                        start: '2025-06-30',
                        end: '2025-07-18'
                    },
                    {
                        title: 'Meeting',
                        start: '2025-06-12',
                        end: '2025-06-12'
                    },
                    {
                        title: 'Lunch',
                        start: '2025-06-12T12:00:00'
                    },
                    {
                        title: 'Meeting',
                        start: '2025-06-12T14:30:00'
                    },
                    {
                        title: 'Happy Hour',
                        start: '2025-06-12T17:30:00'
                    },
                    {
                        title: 'Dinner',
                        start: '2025-06-12T20:00:00'
                    },
                    {
                        title: 'Birthday Party',
                        start: '2025-06-13T07:00:00'
                    },
                    {
                        title: 'Click for Google',
                        url: 'http://google.com/',
                        start: '2025-06-28'
                    }
                ]
            });

            calendar.render();

            var delay = 300;
            var timer = null;
            window.addEventListener('resize', function () {
                clearTimeout(timer);
                timer = setTimeout(function () {
                    let width = document.body.clientWidth;
                    if(width < 768){
                        calendar.setOption('height', 650);
                    }else{
                        calendar.setOption('height', 780);
                    }
                    
                }, delay);
            });
        });
    </script>
</head>

<body>
    @@include('@@webRoot/resources/html/_include/a11y.html')
    <div class="wrap" id="community">
        @@include('@@webRoot/resources/html/_include/header.html')
        <div class="container">
            <div class="page__wrap">
                @@include('@@webRoot/resources/html/_include/left-menu-4.html')

                <div class="content" id="content">
                    @@include('@@webRoot/resources/html/_include/breadcrumb-1.html',{
                    "depth1": "소통",
                    "depth2": "일정",
                    })
                    @@include('@@webRoot/resources/html/_include/title.html',{
                    "title": "일정",
                    "subtext": "등록된 일정을 확인할 수 있습니다.",
                    })
                    <div class="content__inner schedule">
                        <div class="schedule__wrap">
                            <div id='calendar' class="fullcalendar"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        @@include('@@webRoot/resources/html/_include/footer.html')
    </div>
    <!-- 일정 상세 팝업  -->
    <div class="modal__popup" data-layered-name="calendarDetail" tabindex="0">
        <div class="modal__header">
            <span class="tit">일정 상세</span>
        </div>
        <div class="modal__inner">
            <div class="pop__contents schedule">
                <div class="detail__content">
                    <ul class="list">
                        <li>
                            <div class="round__box bg__primary">
                                <div class="date">2025.05.08 ~ 2025.05.10 </div>
                                <div class="tit">정기 대면 집합 교육</div>
                                <div class="text">서초 동행복권 본사에서 진행됩니다.</div>
                            </div>
                        </li>
                        <li>
                            <div class="round__box bg__primary">
                                <div class="date">2025.05.08</div>
                                <div class="tit">인쇄복권 판매 일시 정지</div>
                            </div>
                        </li>
                        <li>
                            <div class="round__box bg__primary">
                                <div class="date">2025.05.08</div>
                                <div class="tit">연금복권 720+ 추첨일</div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="btn__area">
                    <button type="button" class="btn primary outline large" data-modal="close"><span>확인</span></button>
                </div>
            </div>
        </div>
        <button class="btn__close" data-modal="close"><span>닫기</span></button>
    </div>

    <!--// 일정 상세 팝업 -->

    <!-- Script -->
    @@include('@@webRoot/resources/html/_include/common-js.html')
    <!-- Add Library (this page only)-->
    <script src="/resources/common/lib/fullcalendar/index.global.js"></script>
    <!-- Add Script -->
    <script>
        $(function () {
            //lnb 활성화 
            const $lnbActive = $('.left__menu').find('>ul>li:nth-child(3)');
            $lnbActive.addClass('active');

        });
    </script>
</body>

</html>